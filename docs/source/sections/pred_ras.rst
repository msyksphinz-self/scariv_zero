RASの実装方針
-------------

RASの動作対象となる命令
^^^^^^^^^^^^^^^^^^^^^^^

- 呼び出し側
  - `call` (`jalr x1, x6, offset[11:0]`)
  - `tail` (`jalr x0, x6, offset[11:0]`)
- 戻り側
  - `ret`  (`jalr x0, x1, 0`)


呼び出し側の動作
^^^^^^^^^^^^^^^^

- Dispatch時に呼び出し側命令を検出すると、RASテーブルに呼び戻し候補エントリを挿入する
- RASテーブルの参照ポインタをインクリメントする
  - それ以降の命令は(実際に使用するのは `ret` 命令のみだが)常に最新のRASテーブル参照ポインタを持っておく
- RASテーブルに戻りアドレス(呼び出し側命令のPC+4 / PC+2)を挿入する

戻り側の動作
^^^^^^^^^^^^
- Dispatch時に戻り側命令を検出すると、RASテーブルを参照して戻り値アドレスを取り出す
- RASポインタの参照アドレスをデクリメントする

当該呼出し命令or戻り命令がフラッシュされた場合
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

RASのアップデートは無効となるので、RASポインタの場所をフラッシュした命令のが持っていたものまで戻す。

分岐予測の判定
--------------
